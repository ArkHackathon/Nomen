<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>WIP &mdash; Decentralized Authentication</title>
 

        <!-- FOR IE9 below -->
        <!--[if lt IE 9]>
<script src="js/respond.min.js"></script>
<![endif]-->

    </head>
    
    <body>
        
        
        <form id="registration_form">
            Public ID (eg. Name): <input id="PID" type="text">
            <button type="button" onclick="attemptRegistration()">Register</button>
        </form>
        
        <p id="not_registered">You have not been registered yet!</p>
        <p id="confirm_registered"></p>
    
        
        <script src="js/jquery.min.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="dependencies/web3.min.js"></script>
        <script src="dependencies/truffle-contract.js"></script>
        <script src="web3/abi.js"></script>
        <script src="web3/register.js"></script>
        

        <script>
            $(window).load(function() {
            //    init("main");
            });
            $(document).ready(function() {
              hasRegistered(renderPage());
            });
            function attemptRegistration() {
              hasRegistered(registrify);
            };
            function registrify(bool) {
              if (bool) {
                renderPage(true);
              }
              else {
                register(PID.value);
                renderPage(true);
              }
            }
            function renderPage(bool) {
              if (bool) {
                document.getElementById("registration_form").style.display = "none";
                document.getElementById("not_registered").style.display = "none";
                document.getElementById("confirm_registered").style.display = "block";
                document.getElementById("confirm_registered").innerHTML = "temp";
              }
              else {
                document.getElementById("confirm_registered").style.display = "none";
              }
            };
        </script>

    </body>
</html>

